<div class="container">
  <h1>{{ title() }}</h1>

  <!-- Section des filtres -->
  <div class="filtres">
    <div class="filtre-item">
      <label for="filtreNom">Rechercher par nom:</label>
      <input
        type="text"
        id="filtreNom"
        [value]="filtreNom()"
        (input)="updateFiltreNom($any($event.target).value)"
        placeholder="Entrez un nom..."
      />
    </div>

    <div class="filtre-item">
      <label for="filtreValeur">Filtrer par valeur:</label>
      <select
        id="filtreValeur"
        [value]="filtreValeur()"
        (change)="updateFiltreValeur($any($event.target).value)"
      >
        <option value="tous">Tous</option>
        <option value="true">True</option>
        <option value="false">False</option>
      </select>
    </div>
  </div>

  <!-- Tableau des resultats -->
  <div class="tableau-container">
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Nom</th>
          <th>Valeur</th>
        </tr>
      </thead>
      <tbody>
        @if (tuplesFiltres().length === 0) {
          <tr>
            <td colspan="3" class="aucun-resultat">Aucun resultat trouve</td>
          </tr>
        }
        @for (tuple of tuplesFiltres(); track tuple.id) {
          <tr>
            <td>{{ tuple.id }}</td>
            <td>{{ tuple.nom }}</td>
            <td>
              <span [class]="tuple.valeur === 'true' ? 'badge-true' : 'badge-false'">
                {{ tuple.valeur }}
              </span>
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>

  <!-- Affichage du nombre de resultats -->
  <div class="info-resultats">
    Affichage de {{ tuplesFiltres().length }} resultat(s) sur {{ tuples().length }} total
  </div>
</div>

<router-outlet />
